<!-- User Invite Modal -->
<div id="invite-modal-overlay" class="gp-modal-overlay gp-modal--glass" role="dialog" aria-modal="true" aria-labelledby="invite-modal-title" aria-hidden="true">
  <div class="gp-modal" role="document">
    <header class="gp-modal-header">
      <h1 class="gp-modal-title" id="invite-modal-title">
        <i class="fa-solid fa-envelope"></i>
        Inviter un nouvel utilisateur
      </h1>
      <button class="btn-secondary gp-modal-close" id="invite-modal-close" aria-label="Fermer">&times;</button>
    </header>
    <div class="gp-modal-body">
      <p style="margin:0 0 24px 0;color:var(--gray-500);font-size:14px;">L'utilisateur recevra un email pour se connecter.</p>
      
      <form id="invite-form">
        <div class="form-row">
          <label for="invite-email">Email de l'utilisateur <span style="color:var(--danger);">*</span></label>
          <input 
            type="email" 
            id="invite-email" 
            required 
            placeholder="user@example.com"
            style="width:100%;padding:12px;border:1px solid var(--gray-300);border-radius:8px;font-size:14px;box-sizing:border-box;"
          />
        </div>
        
        <div class="form-row">
          <label style="display:block;margin-bottom:8px;font-weight:600;font-size:14px;">
            Rôle <span style="color:var(--danger);">*</span>
          </label>
          <div style="display:flex;gap:12px;">
            <label style="flex:1;display:flex;align-items:center;gap:8px;padding:12px;border:1px solid var(--gray-300);border-radius:8px;cursor:pointer;transition:all 0.2s;" class="role-option">
              <input type="radio" name="role" value="invited" checked style="width:18px;height:18px;cursor:pointer;">
              <div>
                <div style="font-weight:600;font-size:14px;">Invited</div>
                <div style="font-size:12px;color:var(--gray-500);">Accès limité à ses contributions</div>
              </div>
            </label>
            <label style="flex:1;display:flex;align-items:center;gap:8px;padding:12px;border:1px solid var(--gray-300);border-radius:8px;cursor:pointer;transition:all 0.2s;" class="role-option">
              <input type="radio" name="role" value="admin" style="width:18px;height:18px;cursor:pointer;">
              <div>
                <div style="font-weight:600;font-size:14px;">Admin</div>
                <div style="font-size:12px;color:var(--gray-500);">Accès complet et gestion</div>
              </div>
            </label>
          </div>
        </div>
        
        <div class="form-row">
          <label style="display:block;margin-bottom:8px;font-weight:600;font-size:14px;">
            Ville autorisée
          </label>
          <div id="invite-cities-list">
            <!-- Populated by JS with selected city -->
          </div>
        </div>
      </form>
    </div>
    <footer class="gp-modal-footer">
      <button type="button" id="invite-cancel" class="btn-secondary">
        Annuler
      </button>
      <button type="submit" form="invite-form" class="btn-primary">
        <i class="fa-solid fa-envelope"></i>
        <span>Envoyer l'invitation</span>
      </button>
    </footer>
  </div>
</div>

<style>
.role-option:has(input:checked) {
  background: var(--info-alpha-05);
  border-color: var(--info);
}

.city-checkbox-label:hover {
  background: var(--gray-50);
}
</style>
